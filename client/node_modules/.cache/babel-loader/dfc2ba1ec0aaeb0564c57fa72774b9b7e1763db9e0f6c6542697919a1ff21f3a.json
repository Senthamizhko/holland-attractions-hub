{"ast":null,"code":"var _jsxFileName = \"/Users/senthamizhko/Applications/holland-attractions-hub/client/src/context/CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useReducer, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nconst initialState = {\n  cartItems: []\n};\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      // Ensure that if the same item with the same date already exists, we only increase the count\n      const existingItemIndex = state.cartItems.findIndex(item => item.id === action.payload.id && item.selectedDate === action.payload.selectedDate);\n      if (existingItemIndex !== -1) {\n        // If the item exists, update the number of persons\n        const updatedCartItems = [...state.cartItems];\n        updatedCartItems[existingItemIndex].numPersons += action.payload.numPersons;\n        return {\n          ...state,\n          cartItems: updatedCartItems\n        };\n      } else {\n        // If the item doesn't exist, add it to the cart\n        return {\n          ...state,\n          cartItems: [...state.cartItems, action.payload]\n        };\n      }\n    case 'REMOVE_FROM_CART':\n      // Remove the item with the correct id and selectedDate\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload.id || item.selectedDate !== action.payload.selectedDate)\n      };\n    default:\n      return state;\n  }\n};\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartState: state,\n      cartDispatch: dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n  return useContext(CartContext);\n};\n_s2(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useContext","jsxDEV","_jsxDEV","CartContext","initialState","cartItems","cartReducer","state","action","type","existingItemIndex","findIndex","item","id","payload","selectedDate","updatedCartItems","numPersons","filter","CartProvider","children","_s","dispatch","Provider","value","cartState","cartDispatch","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","$RefreshReg$"],"sources":["/Users/senthamizhko/Applications/holland-attractions-hub/client/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useReducer, useContext } from 'react';\n\nexport const CartContext = createContext();\n\nconst initialState = {\n  cartItems: [],\n};\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      // Ensure that if the same item with the same date already exists, we only increase the count\n      const existingItemIndex = state.cartItems.findIndex(\n        (item) =>\n          item.id === action.payload.id &&\n          item.selectedDate === action.payload.selectedDate\n      );\n\n      if (existingItemIndex !== -1) {\n        // If the item exists, update the number of persons\n        const updatedCartItems = [...state.cartItems];\n        updatedCartItems[existingItemIndex].numPersons += action.payload.numPersons;\n\n        return {\n          ...state,\n          cartItems: updatedCartItems,\n        };\n      } else {\n        // If the item doesn't exist, add it to the cart\n        return {\n          ...state,\n          cartItems: [...state.cartItems, action.payload],\n        };\n      }\n\n    case 'REMOVE_FROM_CART':\n      // Remove the item with the correct id and selectedDate\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(\n          (item) =>\n            item.id !== action.payload.id ||\n            item.selectedDate !== action.payload.selectedDate\n        ),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  return (\n    <CartContext.Provider value={{ cartState: state, cartDispatch: dispatch }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => useContext(CartContext);"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErE,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAE1C,MAAMM,YAAY,GAAG;EACnBC,SAAS,EAAE;AACb,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB;MACA,MAAMC,iBAAiB,GAAGH,KAAK,CAACF,SAAS,CAACM,SAAS,CAChDC,IAAI,IACHA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,IAC7BD,IAAI,CAACG,YAAY,KAAKP,MAAM,CAACM,OAAO,CAACC,YACzC,CAAC;MAED,IAAIL,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC5B;QACA,MAAMM,gBAAgB,GAAG,CAAC,GAAGT,KAAK,CAACF,SAAS,CAAC;QAC7CW,gBAAgB,CAACN,iBAAiB,CAAC,CAACO,UAAU,IAAIT,MAAM,CAACM,OAAO,CAACG,UAAU;QAE3E,OAAO;UACL,GAAGV,KAAK;UACRF,SAAS,EAAEW;QACb,CAAC;MACH,CAAC,MAAM;QACL;QACA,OAAO;UACL,GAAGT,KAAK;UACRF,SAAS,EAAE,CAAC,GAAGE,KAAK,CAACF,SAAS,EAAEG,MAAM,CAACM,OAAO;QAChD,CAAC;MACH;IAEF,KAAK,kBAAkB;MACrB;MACA,OAAO;QACL,GAAGP,KAAK;QACRF,SAAS,EAAEE,KAAK,CAACF,SAAS,CAACa,MAAM,CAC9BN,IAAI,IACHA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,IAC7BD,IAAI,CAACG,YAAY,KAAKP,MAAM,CAACM,OAAO,CAACC,YACzC;MACF,CAAC;IAEH;MACE,OAAOR,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMY,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACd,KAAK,EAAEe,QAAQ,CAAC,GAAGvB,UAAU,CAACO,WAAW,EAAEF,YAAY,CAAC;EAE/D,oBACEF,OAAA,CAACC,WAAW,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAEC,SAAS,EAAElB,KAAK;MAAEmB,YAAY,EAAEJ;IAAS,CAAE;IAAAF,QAAA,EACvEA;EAAQ;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACT,EAAA,CARWF,YAAY;AAAAY,EAAA,GAAZZ,YAAY;AAUzB,OAAO,MAAMa,OAAO,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMjC,UAAU,CAACG,WAAW,CAAC;AAAA;AAAC8B,GAAA,CAAxCD,OAAO;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}