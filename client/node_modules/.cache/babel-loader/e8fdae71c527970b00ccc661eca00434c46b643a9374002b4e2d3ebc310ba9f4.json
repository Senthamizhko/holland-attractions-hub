{"ast":null,"code":"var _jsxFileName = \"/Users/senthamizhko/Applications/holland-attractions-hub/client/src/components/CartPage/CartPage.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useCart } from '../../context/CartContext';\nimport './style.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartPage = () => {\n  _s();\n  const {\n    cartState,\n    cartDispatch\n  } = useCart();\n  const {\n    cartItems\n  } = cartState;\n  const handleRemoveFromCart = item => {\n    cartDispatch({\n      type: 'REMOVE_FROM_CART',\n      payload: item\n    });\n  };\n\n  // Group items by ID and selected date and sum the number of persons\n  const groupedItems = cartItems.reduce((acc, item) => {\n    const key = `${item.id}-${item.selectedDate || ''}`;\n    if (acc[key]) {\n      acc[key].numPersons += item.numPersons || 1;\n    } else {\n      acc[key] = {\n        ...item\n      };\n    }\n    return acc;\n  }, {});\n  const uniqueCartItems = Object.values(groupedItems);\n  const totalPrice = uniqueCartItems.reduce((acc, item) => acc + item.price * (item.numPersons || 1), 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"cart-page__header\",\n      children: \"Your Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), uniqueCartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"cart-page__empty\",\n      children: \"Your cart is empty!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"cart-page__items\",\n        children: uniqueCartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"cart-page__items__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.imageUrl,\n            alt: item.name,\n            className: \"cart-page__items__item__image\",\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-page__items__item__details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"cart-page__items__item__details__header\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cart-page__items__item__details__price\",\n              children: [\"Price per Person: \\u20AC\", item.price.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 19\n            }, this), item.numPersons && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cart-page__items__item__details__persons\",\n              children: [\"Number of Persons: \", item.numPersons]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 21\n            }, this), item.selectedDate && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cart-page__items__item__details__date\",\n              children: [\"Date: \", new Date(item.selectedDate).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cart-page__items__item__details__total\",\n              children: [\"Total: \\u20AC\", (item.price * (item.numPersons || 1)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoveFromCart(item) // Correct item passed to remove\n            ,\n            className: \"cart-page__items__item__remove-button\",\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this)]\n        }, `${item.id}-${item.selectedDate || ''}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-page__total\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Total Amount: \\u20AC\", totalPrice.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(CartPage, \"eWuMo45yrsc/Q+8rODqF7z+HRlE=\", false, function () {\n  return [useCart];\n});\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["React","useCart","jsxDEV","_jsxDEV","CartPage","_s","cartState","cartDispatch","cartItems","handleRemoveFromCart","item","type","payload","groupedItems","reduce","acc","key","id","selectedDate","numPersons","uniqueCartItems","Object","values","totalPrice","price","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","src","imageUrl","alt","name","loading","toFixed","Date","toLocaleDateString","onClick","_c","$RefreshReg$"],"sources":["/Users/senthamizhko/Applications/holland-attractions-hub/client/src/components/CartPage/CartPage.jsx"],"sourcesContent":["import React from 'react';\nimport { useCart } from '../../context/CartContext';\nimport './style.scss';\n\nconst CartPage = () => {\n  const { cartState, cartDispatch } = useCart();\n  const { cartItems } = cartState;\n\n  const handleRemoveFromCart = (item) => {\n    cartDispatch({ type: 'REMOVE_FROM_CART', payload: item });\n  };\n\n  // Group items by ID and selected date and sum the number of persons\n  const groupedItems = cartItems.reduce((acc, item) => {\n    const key = `${item.id}-${item.selectedDate || ''}`;\n    if (acc[key]) {\n      acc[key].numPersons += item.numPersons || 1; \n    } else {\n      acc[key] = { ...item };\n    }\n    return acc;\n  }, {});\n\n  const uniqueCartItems = Object.values(groupedItems);\n\n  const totalPrice = uniqueCartItems.reduce(\n    (acc, item) => acc + item.price * (item.numPersons || 1),\n    0\n  );\n\n  return (\n    <div className=\"cart-page\">\n      <h1 className=\"cart-page__header\">Your Cart</h1>\n      {uniqueCartItems.length === 0 ? (\n        <p className=\"cart-page__empty\">Your cart is empty!</p>\n      ) : (\n        <div>\n          <ul className=\"cart-page__items\">\n            {uniqueCartItems.map((item) => (\n              <li key={`${item.id}-${item.selectedDate || ''}`} className=\"cart-page__items__item\">\n                <img\n                  src={item.imageUrl}\n                  alt={item.name}\n                  className=\"cart-page__items__item__image\"\n                  loading=\"lazy\"\n                />\n                <div className=\"cart-page__items__item__details\">\n                  <h3 className=\"cart-page__items__item__details__header\">\n                    {item.name}\n                  </h3>\n                  <p className=\"cart-page__items__item__details__price\">\n                    Price per Person: €{item.price.toFixed(2)}\n                  </p>\n\n                  {item.numPersons && (\n                    <p className=\"cart-page__items__item__details__persons\">\n                      Number of Persons: {item.numPersons}\n                    </p>\n                  )}\n\n                  {item.selectedDate && (\n                    <p className=\"cart-page__items__item__details__date\">\n                      Date: {new Date(item.selectedDate).toLocaleDateString()}\n                    </p>\n                  )}\n\n                  <p className=\"cart-page__items__item__details__total\">\n                    Total: €{(item.price * (item.numPersons || 1)).toFixed(2)}\n                  </p>\n                </div>\n\n                <button\n                  onClick={() => handleRemoveFromCart(item)}  // Correct item passed to remove\n                  className=\"cart-page__items__item__remove-button\"\n                >\n                  Remove\n                </button>\n              </li>\n            ))}\n          </ul>\n\n          <div className=\"cart-page__total\">\n            <h2>Total Amount: €{totalPrice.toFixed(2)}</h2>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CartPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}